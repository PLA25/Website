<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>JSDoc: Source: lib/converter.js</title>

	<script src="scripts/prettify/prettify.js">


	</script>
	<script src="scripts/prettify/lang-css.js">


	</script>
	<!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
	<link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

	<div id="main">

		<h1 class="page-title">Source: lib/converter.js</h1>

		<section>
			<article>
				<pre class="prettyprint source linenums"><code>/**
 * @see module:middleware
 * @module lib/converter
 */

/**
 * Converts temperature, in celsius, to degrees.
 *
 * @function
 * @param {number} temp - temperature in celsius
 * @return {number} 0 - 360
 */
function tempToDegrees(temp) {
  /*
   * Creates the degrees, from a temperature range of -70 to 50.
   */
  let degrees = 300 - (((temp + 50) / 100) * 300);

  /*
   * Makes sure the degrees don't go above 360, which is mathematically impossible.
   */
  while (degrees > 360) {
    degrees -= 360;
  }

  /*
   * Returns the degrees.
   */
  return degrees;
}

/**
 * Converts temperature, in celsius, to RGB.
 *
 * @function
 * @param {number} temp - temperature in celsius
 * @returns {number[]} Red, Green, Blue (RGB)
 */
function tempToColor(temp) {
  /*
   * Finds the degrees for further conversion.
   */
  const degrees = tempToDegrees(temp);

  let value = 0;
  if (degrees &lt;= 60) {
    value = parseInt((degrees / 60) * 255, 10);
    return [255, value, 0];
  }

  if (degrees &lt;= 120) {
    value = 255 - parseInt((degrees / 120) * 255, 10);
    return [value, 255, 0];
  }

  if (degrees &lt;= 180) {
    value = parseInt((degrees / 180) * 255, 10);
    return [0, 255, value];
  }

  if (degrees &lt;= 240) {
    value = 255 - parseInt((degrees / 240) * 255, 10);
    return [0, value, 255];
  }

  if (degrees &lt;= 300) {
    value = parseInt((degrees / 300) * 255, 10);
    return [value, 0, 255];
  }

  /*
   * The determined value if the degrees are higher than 300.
   */
  value = 255 - parseInt((degrees / 120) * 255, 10);
  return [255, 0, value];
}

/**
 * Converts a tile with x- and z-coordinates to a longitude.
 *
 * @param {number} x - The x-coordinate.
 * @param {number} z - The z-coordinate.
 * @returns {number} - The longitude.
 */
function tileToLong(x, z) {
  return (((x / (2 ** z)) * 360) - 180);
}

/**
 * Converts a tile with y- and z-coordinates to a latitude.
 *
 * @param {number} y - The y-coordinate.
 * @param {number} z - The z-coordinate.
 * @returns {number} - The latitude.
 */
function tileToLat(y, z) {
  const n = Math.PI - (((2 * Math.PI) * y) / (2 ** z));
  return ((180 / Math.PI) * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n))));
}

module.exports = {
  tempToDegrees, tempToColor, tileToLat, tileToLong,
};
</code></pre>
			</article>
		</section>

	</div>

	<nav>
		<h2><a href="index.html">Home</a></h2>
		<h3>Modules</h3>
		<ul>
			<li><a href="module-lib_converter.html">lib/converter</a></li>
			<li><a href="module-middleware.html">middleware</a></li>
			<li><a href="module-middleware_errorHandler.html">middleware/errorHandler</a></li>
			<li><a href="module-middleware_isAdmin.html">middleware/isAdmin</a></li>
			<li><a href="module-middleware_isLoggedIn.html">middleware/isLoggedIn</a></li>
			<li><a href="module-middleware_pageNotFoundHandler.html">middleware/pageNotFoundHandler</a></li>
			<li><a href="module-middleware_setUser.html">middleware/setUser</a></li>
			<li><a href="module-routes.html">routes</a></li>
			<li><a href="module-routes_admin.html">routes/admin</a></li>
			<li><a href="module-routes_api.html">routes/api</a></li>
			<li><a href="module-routes_home.html">routes/home</a></li>
			<li><a href="module-routes_map.html">routes/map</a></li>
		</ul>
		<h3>Classes</h3>
		<ul>
			<li><a href="Data.html">Data</a></li>
			<li><a href="SensorHub.html">SensorHub</a></li>
			<li><a href="User.html">User</a></li>
		</ul>
	</nav>

	<br class="clear">

	<footer>
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Apr 11 2018 17:54:36 GMT+0200 (W. Europe Daylight Time)
	</footer>

	<script>
		prettyPrint();

	</script>
	<script src="scripts/linenumber.js">


	</script>
</body>

</html>
